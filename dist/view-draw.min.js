/**
 * view-draw 1.0.0
 * @license MIT
 * Copyright 2021-present Jasper Palfree
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ViewDraw={})}(this,(function(t){"use strict";var e=function(t,e,n){return t*(1-n)+e*n},n=function(t,e,n){var r=e-t;return r?(n-t)/r:1},r=function(t,n){return[e(n[0],n[1],t[0]),e(n[2],n[3],t[1])]},o=function(t,e){return[n(e[0],e[1],t[0]),n(e[2],e[3],t[1])]},i=function(t,e){var n=t.name,i=t.to,a=t.from;void 0===e&&(e=[0,1,0,1]);var c={name:n,to:i,from:a,viewbox:e,toCameraSize:function(t,e){return(t[1]-t[0])*e/(c.viewbox[1]-c.viewbox[0])},fromCameraSize:function(t,e){var n=t[1]-t[0];return(c.viewbox[1]-c.viewbox[0])*e/n},toCamera:function(t,e){return r(i(o(e,c.viewbox)),t)},fromCamera:function(t,e){return r(a(o(e,t)),c.viewbox)}};return c},a=2*Math.PI,c={to:function(t){return t},from:function(t){return t}},u={to:function(t){var e=t[0],n=t[1];return n*=a,[e*Math.cos(n),e*Math.sin(n)]},from:function(t){var e=t[0],n=t[1];return[Math.sqrt(e*e+n*n),Math.atan2(n,e)/a]}},f=Object.freeze({__proto__:null,makeProjection:i,cartesian:c,polar:u});function d(t,e,n){"string"==typeof t?t=f[t]:"object"!==t&&(n=e,e=t,t=c),Array.isArray(e)||(n=e,e=void 0);var r=i(t,e),o={center:[0,0],scale:1},a={proj:r,init:function(t){t!==a.canvas&&(a.canvas=t,a.ctx=t.getContext("2d")),a.width=t.width,a.height=t.height,a.bounds=t.getBoundingClientRect(),a.px=a.width/a.bounds.width;var e=.5*o.scale*a.width,n=.5*o.scale*a.height,i=Math.max(e,n),c=r.to(o.center);return a.cameraBounds=[-c[0]*i+e,(1-c[0])*i+e,-c[1]*i+n,(1-c[1])*i+n],a},clear:function(){a.ctx.clearRect(0,0,a.width,a.height)},color:function(t){return a.ctx.fillStyle!==t&&(a.ctx.fillStyle=t),a.ctx.strokeStyle!==t&&(a.ctx.strokeStyle=t),a},dot:function(t){var e=a.ctx,n=r.toCamera(a.cameraBounds,t),o=n[0],i=n[1];e.beginPath(),e.arc(o,i,1*a.px,0,2*Math.PI),e.fill()},circle:function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=0);var i=a.ctx,c=r.toCamera(a.cameraBounds,t),u=c[0],f=c[1];return e=r.toCameraSize(a.cameraBounds,e),i.beginPath(),i.arc(u,f,e,0,2*Math.PI),n&&i.fill(),o&&(o*=a.px,i.lineWidth!==o&&(i.lineWidth=o),i.stroke()),a}};return o.getMousePos=function(t,e){a.init(e);var n=[(t.pageX-a.bounds.left)*a.px,(t.pageY-a.bounds.top)*a.px];return r.fromCamera(a.cameraBounds,n)},o.camera=function(t,e){return void 0===e&&(e=1),o.center=t,o.scale=1/e,o},o.draw=function(t){a.init(t),a.clear();for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.apply(void 0,[a].concat(r)),o},o.drawOver=function(t){a.init(t);for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.apply(void 0,[a].concat(r)),o},o}t.View=function(){return d.apply(void 0,arguments)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kcmF3Lm1pbi5qcyIsInNvdXJjZXMiOltdLCJzb3VyY2VzQ29udGVudCI6W10sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIifQ==
